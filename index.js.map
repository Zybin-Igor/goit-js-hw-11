{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst apiKey = \"51458784-2f96fe50249650f21f6db1ef2\";\nconst baseUrl = \"https://pixabay.com/api/\";\n\nexport const fetchImg = (query) => {\n\treturn axios.get(baseUrl, {\n\t\tparams: {\n\t\t\tkey: apiKey,\n\t\t\tq: query,\n\t\t\timage_type: \"photo\",\n\t\t\torientation: \"horizontal\",\n\t\t\tsafesearch: true\n\t\t}\n\t})\n\t\t.then(response => {\n\t\t\tif (!response.data || !response.data.hits) {\n\t\t\t\tthrow new Error('Invalid response format from Pixabay API');\n\t\t\t}\n\t\t\treturn response.data.hits;\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error fetching images:', error);\n\t\t\tthrow error; \n\t\t});\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader-box\");\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n\tcaptionsData: \"alt\",\n\tcaptionDelay: 250\n})\n\nexport const createGallery = (img) => {\n\n\tconst markupGallery = img.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n\t\treturn `\n         <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n                class=\"gallery-img\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n            />\n        </a>\n        <ul class=\"list-description\">\n            <li class=\"description\">\n                <h3 class=\"title\">Likes</h3>\n                <p class=\"text\">${likes}</p>\n            </li>\n            <li class=\"description\">\n                <h3 class=\"title\">Views</h3>\n                <p class=\"text\">${views}</p>\n            </li>\n            <li class=\"description\">\n                <h3 class=\"title\">Comments</h3>\n                <p class=\"text\">${comments}</p>\n            </li>\n            <li class=\"description\">\n                <h3 class=\"title\">Downloads</h3>\n                <p class=\"text\">${downloads}</p>\n            </li>\n        </ul>\n    </li>\n        `\n\t}).join(\"\");\n\n\tgallery.insertAdjacentHTML(\"beforeend\", markupGallery);\n\n\tlightbox.refresh();\n}\n\nexport const clearGallery = () => {\n\tgallery.innerHTML = '';\n}\n\nexport const showLoader = () => {\n\tloader.classList.remove(\"hidden\");\n}\n\nexport const hideLoader = () => {\n\tloader.classList.add(\"hidden\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchImg } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", (event) => {\n\tevent.preventDefault();\n\tclearGallery();\n\n\tconst query = event.target.elements.searchText.value.trim();\n\n\tif (!query) {\n\t\tiziToast.error({\n\t\t\ttitle: \"Please enter text\",\n\t\t\tposition: \"topRight\"\n\t\t});\n\t\treturn;\n\t}\n\n\tshowLoader();\n\n\tfetchImg(query)\n\t\t.then(images => {\n\t\t\tif (!images || images.length === 0) {\n\t\t\t\tiziToast.error({\n\t\t\t\t\ttitle: `Sorry, there are no images matching \"${query}\". Please try again!`,\n\t\t\t\t\tposition: \"topRight\"\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcreateGallery(images);\n\t\t})\n\t\t.catch(error => {\n\t\t\tiziToast.error({\n\t\t\t\ttitle: error.message,\n\t\t\t\tposition: \"topRight\" \n\t\t\t});\n\t\t})\n\t\t.finally(() => {\n\t\t\thideLoader();\n\t\t\tform.reset();  \n\t\t});\n});"],"names":["apiKey","baseUrl","fetchImg","query","axios","response","error","gallery","loader","lightbox","SimpleLightbox","createGallery","img","markupGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","event","iziToast","images"],"mappings":"owBAEA,MAAMA,EAAS,qCACTC,EAAU,2BAEHC,EAAYC,GACjBC,EAAM,IAAIH,EAAS,CACzB,OAAQ,CACP,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACZ,CACH,CAAE,EACC,KAAKE,GAAY,CACjB,GAAI,CAACA,EAAS,MAAQ,CAACA,EAAS,KAAK,KACpC,MAAM,IAAI,MAAM,0CAA0C,EAE3D,OAAOA,EAAS,KAAK,IACxB,CAAG,EACA,MAAMC,GAAS,CACf,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CAAG,ECrBGC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,aAAa,EAE7CC,EAAW,IAAIC,EAAe,kBAAmB,CACtD,aAAc,MACd,aAAc,GACf,CAAC,EAEYC,EAAiBC,GAAQ,CAErC,MAAMC,EAAgBD,EAAI,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC7F;AAAA;AAAA,wCAE+BL,CAAa;AAAA;AAAA;AAAA,uBAG9BD,CAAY;AAAA,uBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAMOC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,SAKzC,EAAE,KAAK,EAAE,EAEVb,EAAQ,mBAAmB,YAAaM,CAAa,EAErDJ,EAAS,QAAO,CACjB,EAEaY,EAAe,IAAM,CACjCd,EAAQ,UAAY,EACrB,EAEae,EAAa,IAAM,CAC/Bd,EAAO,UAAU,OAAO,QAAQ,CACjC,EAEae,EAAa,IAAM,CAC/Bf,EAAO,UAAU,IAAI,QAAQ,CAC9B,ECvDMgB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAWC,GAAU,CAC1CA,EAAM,eAAc,EACpBJ,IAEA,MAAMlB,EAAQsB,EAAM,OAAO,SAAS,WAAW,MAAM,OAErD,GAAI,CAACtB,EAAO,CACXuB,EAAS,MAAM,CACd,MAAO,oBACP,SAAU,UACb,CAAG,EACD,MACA,CAEDJ,IAEApB,EAASC,CAAK,EACZ,KAAKwB,GAAU,CACf,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CACnCD,EAAS,MAAM,CACd,MAAO,wCAAwCvB,CAAK,uBACpD,SAAU,UACf,CAAK,EACD,MACA,CACDQ,EAAcgB,CAAM,CACvB,CAAG,EACA,MAAMrB,GAAS,CACfoB,EAAS,MAAM,CACd,MAAOpB,EAAM,QACb,SAAU,UACd,CAAI,CACJ,CAAG,EACA,QAAQ,IAAM,CACdiB,IACAC,EAAK,MAAK,CACb,CAAG,CACH,CAAC"}